# 社区议事列表页面

## 项目概述

这是一个符合TDesign设计规范的移动端友好议事列表页面，采用全幅延展设计（bleed edge布局），提供流畅的用户体验和完整的PWA支持。

## 功能特性

### 核心功能
- **议事列表展示**：动态渲染议事卡片，支持状态标识和元信息显示
- **智能筛选**：支持按状态（进行中、投票中、已完成、已归档）快速筛选
- **全文搜索**：支持标题、摘要、标签的模糊搜索
- **分页加载**：支持加载更多功能，优化大数据量展示
- **状态管理**：实时显示议事状态、参与人数、评论数量

### 交互体验
- **触摸反馈**：所有可点击元素提供触摸反馈动画
- **模态弹窗**：筛选和搜索功能采用模态弹窗设计
- **悬浮按钮**：快速创建新议事的悬浮操作按钮
- **加载状态**：完整的加载状态提示和错误处理
- **Toast提示**：友好的操作反馈提示

### PWA支持
- **离线访问**：支持添加到主屏幕和离线浏览
- **快捷方式**：提供"发起议事"和"我的议事"快捷入口
- **响应式图标**：适配不同设备的应用图标
- **启动画面**：自定义启动画面和主题色

## 技术架构

### 文件结构
```
议事列表页面/
├── 议事列表.html              # 主页面结构 (<500行)
├── 议事列表-styles.css        # 样式文件 (<500行)
├── 议事列表-scripts.js        # 脚本文件 (<500行)
├── 议事列表-manifest.json     # PWA配置文件
└── 议事列表-README.md         # 项目说明文档
```

### 技术栈
- **HTML5**：语义化标签，完整的PWA meta配置
- **TailwindCSS**：基于TDesign设计规范的样式系统
- **Vanilla JavaScript**：原生JS实现，无框架依赖
- **FontAwesome**：图标库支持
- **PWA**：完整的渐进式Web应用配置

### 设计规范

#### TDesign配色方案
```css
:root {
  --td-blue: #0052D9;           /* 主色调 */
  --td-blue-light: #EBF3FF;     /* 浅色背景 */
  --text-primary: #1F2937;      /* 主要文字 */
  --text-secondary: #6B7280;    /* 次要文字 */
  --text-tertiary: #9CA3AF;     /* 辅助文字 */
}
```

#### 全幅延展布局
- 卡片左右边缘与屏幕边缘对齐
- 使用分割线替代卡片间距
- 消除额外视觉边界，强化内容沉浸感
- 保持垂直滚动的连续性

#### iOS安全区域适配
```css
.fixed-header {
  padding-top: env(safe-area-inset-top);
}

.content-with-safe-area {
  margin-top: calc(32px + env(safe-area-inset-top));
}
```

## 组件设计

### 可复用CSS组件

#### 按钮组件
```css
.btn-primary    /* 主要按钮 */
.btn-secondary  /* 次要按钮 */
.btn-press      /* 触摸反馈 */
```

#### 卡片组件
```css
.bleed-card     /* 全幅延展卡片 */
.topic-card     /* 议事卡片 */
.data-card      /* 数据展示卡片 */
```

#### 状态标签
```css
.status-badge   /* 状态标签基础样式 */
.status-ongoing /* 进行中状态 */
.status-voting  /* 投票中状态 */
.status-completed /* 已完成状态 */
.status-archived  /* 已归档状态 */
```

### JavaScript模块

#### 数据管理
```javascript
// 议事数据结构
const topicsData = [
  {
    id: 1,
    title: '议事标题',
    summary: '议事摘要',
    status: 'ongoing',
    category: 'parking',
    author: '发起人',
    createTime: '2024-06-01 09:00',
    participants: 28,
    comments: 15,
    tags: ['标签1', '标签2']
  }
];
```

#### 核心功能模块
```javascript
renderTopicList()     // 渲染议事列表
createTopicCard()     // 创建议事卡片
initializeFilters()   // 初始化筛选功能
initializeSearch()    // 初始化搜索功能
showFilterModal()     // 显示筛选弹窗
showSearchModal()     // 显示搜索弹窗
```

## 使用方法

### 基本使用
1. 直接在浏览器中打开 `议事列表.html`
2. 页面自动加载议事数据并渲染列表
3. 使用顶部筛选标签快速筛选不同状态的议事
4. 点击搜索图标打开搜索弹窗进行全文搜索

### 高级功能
1. **筛选功能**：点击筛选图标打开高级筛选弹窗
2. **创建议事**：点击右下角悬浮按钮创建新议事
3. **查看详情**：点击任意议事卡片查看详细内容
4. **PWA安装**：在支持的浏览器中添加到主屏幕

### 自定义配置

#### 修改议事数据
在 `议事列表-scripts.js` 中修改 `topicsData` 数组：
```javascript
const topicsData = [
  // 添加或修改议事数据
];
```

#### 调整样式配置
在 `议事列表-styles.css` 中修改CSS变量：
```css
:root {
  --td-blue: #your-color;  /* 自定义主色调 */
}
```

#### 配置PWA设置
在 `议事列表-manifest.json` 中修改应用信息：
```json
{
  "name": "你的应用名称",
  "theme_color": "#your-color"
}
```

## 浏览器兼容性

- **iOS Safari**: 12.0+
- **Android Chrome**: 80.0+
- **微信内置浏览器**: 支持
- **支付宝内置浏览器**: 支持

## 性能优化

### 已实现的优化
- **代码分割**：HTML、CSS、JS独立文件，便于缓存
- **图标优化**：使用SVG图标，减少网络请求
- **动画优化**：使用CSS3硬件加速
- **滚动优化**：隐藏滚动条，优化滚动体验

### 建议的优化
- **图片懒加载**：对用户头像实现懒加载
- **虚拟滚动**：大数据量时使用虚拟滚动
- **Service Worker**：添加离线缓存策略
- **预加载**：关键资源预加载

## 扩展开发

### 添加新的筛选条件
1. 在 `topicsData` 中添加新的数据字段
2. 在筛选弹窗中添加对应的筛选选项
3. 在 `applyFilters()` 函数中添加筛选逻辑

### 集成后端API
1. 替换 `topicsData` 静态数据为API调用
2. 实现分页加载的后端接口
3. 添加搜索和筛选的后端支持

### 添加新的状态类型
1. 在 `getStatusText()` 函数中添加状态映射
2. 在CSS中添加对应的状态样式
3. 更新筛选选项和数据结构

## 注意事项

1. **安全区域适配**：确保在iPhone X及以上设备测试安全区域适配
2. **触摸体验**：所有交互元素都应有适当的触摸反馈
3. **加载状态**：长时间操作应提供加载状态提示
4. **错误处理**：网络错误和数据异常应有友好的错误提示
5. **无障碍访问**：重要元素应添加适当的ARIA标签

## 更新日志

### v1.0.0 (2024-06-01)
- 初始版本发布
- 实现基础的议事列表展示功能
- 支持筛选和搜索功能
- 完整的PWA配置
- TDesign设计规范适配
- 移动端优化和安全区域适配

---

**开发者**: AI Assistant  
**设计规范**: TDesign  
**最后更新**: 2024-06-01